"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7506],{7506:(b,c,a)=>{a.r(c),a.d(c,{CrearcuentaPage:()=>P});var d=a(5861),e=a(6689),p=a(6814),g=a(95),s=a(3582),_=a(6626),u=a(2745),m=a(2333),M=a(9022),C=a(3044),h=a(6406);const f=["titulo"];let P=(()=>{class l{constructor(n,i,t,o){this.authService=n,this.bd=i,this.router=t,this.animationController=o,this.usuario=new _.b,this.repeticionPassword=""}ionViewWillEnter(){this.itemTitulo&&this.animationController.create().addElement(this.itemTitulo.nativeElement).iterations(1/0).duration(6e3).fromTo("transform","translate(-30%)","translate(100%)").fromTo("opacity",0,1).play(),this.usuario=new _.b,this.repeticionPassword=""}mostrarMensaje(n,i){return""!==i.trim()||((0,u.HG)(`Debe ingresar un valor para el campo "${n}".`),!1)}actualizarPerfil(){if(this.mostrarMensaje("nombre",this.usuario.nombre)&&this.mostrarMensaje("apellidos",this.usuario.apellido)&&this.mostrarMensaje("correo",this.usuario.correo)&&this.mostrarMensaje("pregunta secreta",this.usuario.preguntaSecreta)&&this.mostrarMensaje("respuesta secreta",this.usuario.respuestaSecreta)&&this.mostrarMensaje("contrase\xf1a",this.usuario.password)){if(this.usuario.password!==this.repeticionPassword)return void(0,u.HG)("Las contrase\xf1as escritas deben ser iguales.");this.bd.guardarUsuario(this.usuario),this.authService.setUsuarioAutenticado(this.usuario),(0,u.CF)("Sus datos fueron actualizados")}}crearCuenta(){var n=this;return(0,d.Z)(function*(){n.mostrarMensaje("nombre",n.usuario.nombre)&&n.mostrarMensaje("apellidos",n.usuario.apellido)&&n.mostrarMensaje("correo",n.usuario.correo)&&n.mostrarMensaje("pregunta secreta",n.usuario.preguntaSecreta)&&n.mostrarMensaje("respuesta secreta",n.usuario.respuestaSecreta)&&n.mostrarMensaje("contrase\xf1a",n.usuario.password)&&(n.usuario.password===n.repeticionPassword?(yield n.bd.leerUsuario(n.usuario.correo))?(0,u.HG)(`Registro fallido. El correo ${n.usuario.correo} ya est\xe1 registrado.`):(n.bd.guardarUsuario(n.usuario),(0,u.CF)("Te has registrado exitosamente."),n.router.navigate(["ingreso"])):(0,u.HG)("Las contrase\xf1as escritas deben ser iguales."))})()}ingresar(){this.router.navigate(["ingreso"])}static#e=this.\u0275fac=function(i){return new(i||l)(e.Y36(m.e),e.Y36(M.T),e.Y36(C.F0),e.Y36(h.vB))};static#n=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-crearcuenta"]],viewQuery:function(i,t){if(1&i&&e.Gf(f,5,e.SBq),2&i){let o;e.iGM(o=e.CRH())&&(t.itemTitulo=o.first)}},standalone:!0,features:[e.jDz],decls:41,vars:8,consts:[[3,"translucent"],[2,"display","flex","align-items","center"],["src","../../../assets/img/logo-duoc.svg",1,"logo"],[2,"flex-grow","1"],["titulo",""],[1,"titulo-animado"],[1,"ion-text-center"],[1,"titulo",2,"margin-top","30px"],[1,"ion-text-center","ion-padding-vertical"],[1,"items"],["type","text","label","Nombre","labelPlacement","floating",3,"ngModel","ngModelChange"],["name","person-outline","slot","start"],["type","text","label","Apellidos","labelPlacement","floating",3,"ngModel","ngModelChange"],["type","text","label","Correo","labelPlacement","floating",3,"ngModel","ngModelChange"],["name","mail-outline","slot","start"],["type","text","label","Pregunta secreta","labelPlacement","floating",3,"ngModel","ngModelChange"],["name","key-outline","slot","start"],["type","text","label","Respuesta secreta","labelPlacement","floating",3,"ngModel","ngModelChange"],["type","password","label","Contrase\xf1a","labelPlacement","floating",3,"ngModel","ngModelChange"],["type","password","label","Repetir contrase\xf1a","labelPlacement","floating",3,"ngModel","ngModelChange"],[1,"centrar-boton"],[3,"click"],["id","ingresar","shape","round",2,"max-width","190px","font-size","12px",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"div",1),e._UZ(3,"img",2),e.TgZ(4,"ion-title",3,4)(6,"p",5),e._uU(7,"Sistema de asistencia Duoc UC"),e.qZA()()()()(),e.TgZ(8,"ion-content")(9,"div",6)(10,"h1",7),e._uU(11,"Crear una nueva cuenta"),e.qZA()(),e.TgZ(12,"ion-card",8)(13,"div",9)(14,"ion-item")(15,"ion-input",10),e.NdJ("ngModelChange",function(r){return t.usuario.nombre=r}),e.qZA(),e._UZ(16,"ion-icon",11),e.qZA(),e.TgZ(17,"ion-item")(18,"ion-input",12),e.NdJ("ngModelChange",function(r){return t.usuario.apellido=r}),e.qZA(),e._UZ(19,"ion-icon",11),e.qZA(),e.TgZ(20,"ion-item")(21,"ion-input",13),e.NdJ("ngModelChange",function(r){return t.usuario.correo=r}),e.qZA(),e._UZ(22,"ion-icon",14),e.qZA(),e.TgZ(23,"ion-item")(24,"ion-input",15),e.NdJ("ngModelChange",function(r){return t.usuario.preguntaSecreta=r}),e.qZA(),e._UZ(25,"ion-icon",16),e.qZA(),e.TgZ(26,"ion-item")(27,"ion-input",17),e.NdJ("ngModelChange",function(r){return t.usuario.respuestaSecreta=r}),e.qZA(),e._UZ(28,"ion-icon",16),e.qZA(),e.TgZ(29,"ion-item")(30,"ion-input",18),e.NdJ("ngModelChange",function(r){return t.usuario.password=r}),e.qZA(),e._UZ(31,"ion-icon",16),e.qZA(),e.TgZ(32,"ion-item")(33,"ion-input",19),e.NdJ("ngModelChange",function(r){return t.repeticionPassword=r}),e.qZA(),e._UZ(34,"ion-icon",16),e.qZA()(),e.TgZ(35,"div",20)(36,"ion-button",21),e.NdJ("click",function(){return t.crearCuenta()}),e._uU(37," Registrarme "),e.qZA()()(),e.TgZ(38,"div",6)(39,"ion-button",22),e.NdJ("click",function(){return t.ingresar()}),e._uU(40,"Ir a iniciar sesi\xf3n"),e.qZA()()()),2&i&&(e.Q6J("translucent",!0),e.xp6(15),e.Q6J("ngModel",t.usuario.nombre),e.xp6(3),e.Q6J("ngModel",t.usuario.apellido),e.xp6(3),e.Q6J("ngModel",t.usuario.correo),e.xp6(3),e.Q6J("ngModel",t.usuario.preguntaSecreta),e.xp6(3),e.Q6J("ngModel",t.usuario.respuestaSecreta),e.xp6(3),e.Q6J("ngModel",t.usuario.password),e.xp6(3),e.Q6J("ngModel",t.repeticionPassword))},dependencies:[s.Pc,s.YG,s.PM,s.W2,s.Gu,s.gu,s.pK,s.Ie,s.wd,s.sr,s.j9,p.ez,g.u5,g.JJ,g.On],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{text-decoration:none}ion-content[_ngcontent-%COMP%]{--background: url(background.2159e2724eb2b388.jpg) no-repeat center center / cover}.tab[_ngcontent-%COMP%]{font-size:10px}ion-toolbar[_ngcontent-%COMP%]{text-align:center;--ion-toolbar-background: #021E2F;--ion-color-primary: #F1B634}ion-segment-button[_ngcontent-%COMP%]:not(.segment-button-checked){color:#fff}ion-card[_ngcontent-%COMP%]{--background: rgba(0,0,0,.5)}ion-button[_ngcontent-%COMP%]{--background: #F1B634;color:#fff}.logo[_ngcontent-%COMP%]{max-width:140px;margin-left:10px}.cerrarsesion[_ngcontent-%COMP%]{color:#fff;max-width:300px}.subirQR[_ngcontent-%COMP%]{color:#000}.titulo-animado[_ngcontent-%COMP%]{margin-top:10px;font-size:12px}.titulo[_ngcontent-%COMP%]{text-shadow:2px 2px 4px rgba(0,0,0,.5);margin-top:50px;font-size:22px}.centrar-boton[_ngcontent-%COMP%]{text-align:center}ion-card[_ngcontent-%COMP%]{--background: rgba(0,0,0,.5);padding:10px}ion-button[_ngcontent-%COMP%]{--background: #F1B634;max-width:300px;margin-top:10px}ion-item[_ngcontent-%COMP%]{--background: rgba(0,0,0,0)}.items[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}ion-segment-button[_ngcontent-%COMP%]{--ion-color-primary: white}"]})}return l})()}}]);