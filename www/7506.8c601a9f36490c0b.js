"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7506],{7506:(O,c,o)=>{o.r(c),o.d(c,{CrearcuentaPage:()=>b});var p=o(5861),e=o(6689),m=o(6814),l=o(95),i=o(3582),_=o(6626),s=o(2745),M=o(2333),C=o(9022),P=o(3044),h=o(6406);const f=["titulo"];let b=(()=>{var u;class d{constructor(n,t,r,a){this.authService=n,this.bd=t,this.router=r,this.animationController=a,this.usuario=new _.b,this.repeticionPassword=""}ionViewWillEnter(){this.itemTitulo&&this.animationController.create().addElement(this.itemTitulo.nativeElement).iterations(1/0).duration(6e3).fromTo("transform","translate(-30%)","translate(100%)").fromTo("opacity",0,1).play(),this.usuario=new _.b,this.repeticionPassword=""}mostrarMensaje(n,t){return""!==t.trim()||((0,s.HG)(`Debe ingresar un valor para el campo "${n}".`),!1)}actualizarPerfil(){if(this.mostrarMensaje("nombre",this.usuario.nombre)&&this.mostrarMensaje("apellidos",this.usuario.apellido)&&this.mostrarMensaje("correo",this.usuario.correo)&&this.mostrarMensaje("pregunta secreta",this.usuario.preguntaSecreta)&&this.mostrarMensaje("respuesta secreta",this.usuario.respuestaSecreta)&&this.mostrarMensaje("contrase\xf1a",this.usuario.password)){if(this.usuario.password!==this.repeticionPassword)return void(0,s.HG)("Las contrase\xf1as escritas deben ser iguales.");this.bd.guardarUsuario(this.usuario),this.authService.setUsuarioAutenticado(this.usuario),(0,s.CF)("Sus datos fueron actualizados")}}crearCuenta(){var n=this;return(0,p.Z)(function*(){n.mostrarMensaje("nombre",n.usuario.nombre)&&n.mostrarMensaje("apellidos",n.usuario.apellido)&&n.mostrarMensaje("correo",n.usuario.correo)&&n.mostrarMensaje("pregunta secreta",n.usuario.preguntaSecreta)&&n.mostrarMensaje("respuesta secreta",n.usuario.respuestaSecreta)&&n.mostrarMensaje("contrase\xf1a",n.usuario.password)&&(n.usuario.password===n.repeticionPassword?(yield n.bd.leerUsuario(n.usuario.correo))?(0,s.HG)(`Registro fallido. El correo ${n.usuario.correo} ya est\xe1 registrado.`):(n.bd.guardarUsuario(n.usuario),(0,s.CF)("Te has registrado exitosamente."),n.router.navigate(["ingreso"])):(0,s.HG)("Las contrase\xf1as escritas deben ser iguales."))})()}ingresar(){this.router.navigate(["ingreso"])}}return(u=d).\u0275fac=function(n){return new(n||u)(e.Y36(M.e),e.Y36(C.T),e.Y36(P.F0),e.Y36(h.vB))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-crearcuenta"]],viewQuery:function(n,t){if(1&n&&e.Gf(f,5,e.SBq),2&n){let r;e.iGM(r=e.CRH())&&(t.itemTitulo=r.first)}},standalone:!0,features:[e.jDz],decls:41,vars:8,consts:[[3,"translucent"],[2,"display","flex","align-items","center"],["src","../../../assets/img/logo-duoc.svg",1,"logo"],[2,"flex-grow","1"],["titulo",""],[1,"titulo-animado"],[1,"ion-text-center"],[1,"titulo",2,"margin-top","30px"],[1,"ion-text-center","ion-padding-vertical"],[1,"items"],["type","text","label","Nombre","labelPlacement","floating",3,"ngModel","ngModelChange"],["name","person-outline","slot","start"],["type","text","label","Apellidos","labelPlacement","floating",3,"ngModel","ngModelChange"],["type","text","label","Correo","labelPlacement","floating",3,"ngModel","ngModelChange"],["name","mail-outline","slot","start"],["type","text","label","Pregunta secreta","labelPlacement","floating",3,"ngModel","ngModelChange"],["name","key-outline","slot","start"],["type","text","label","Respuesta secreta","labelPlacement","floating",3,"ngModel","ngModelChange"],["type","password","label","Contrase\xf1a","labelPlacement","floating",3,"ngModel","ngModelChange"],["type","password","label","Repetir contrase\xf1a","labelPlacement","floating",3,"ngModel","ngModelChange"],[1,"centrar-boton"],[3,"click"],["id","ingresar","shape","round",2,"max-width","190px","font-size","12px",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"div",1),e._UZ(3,"img",2),e.TgZ(4,"ion-title",3,4)(6,"p",5),e._uU(7,"Sistema de asistencia Duoc UC"),e.qZA()()()()(),e.TgZ(8,"ion-content")(9,"div",6)(10,"h1",7),e._uU(11,"Crear una nueva cuenta"),e.qZA()(),e.TgZ(12,"ion-card",8)(13,"div",9)(14,"ion-item")(15,"ion-input",10),e.NdJ("ngModelChange",function(a){return t.usuario.nombre=a}),e.qZA(),e._UZ(16,"ion-icon",11),e.qZA(),e.TgZ(17,"ion-item")(18,"ion-input",12),e.NdJ("ngModelChange",function(a){return t.usuario.apellido=a}),e.qZA(),e._UZ(19,"ion-icon",11),e.qZA(),e.TgZ(20,"ion-item")(21,"ion-input",13),e.NdJ("ngModelChange",function(a){return t.usuario.correo=a}),e.qZA(),e._UZ(22,"ion-icon",14),e.qZA(),e.TgZ(23,"ion-item")(24,"ion-input",15),e.NdJ("ngModelChange",function(a){return t.usuario.preguntaSecreta=a}),e.qZA(),e._UZ(25,"ion-icon",16),e.qZA(),e.TgZ(26,"ion-item")(27,"ion-input",17),e.NdJ("ngModelChange",function(a){return t.usuario.respuestaSecreta=a}),e.qZA(),e._UZ(28,"ion-icon",16),e.qZA(),e.TgZ(29,"ion-item")(30,"ion-input",18),e.NdJ("ngModelChange",function(a){return t.usuario.password=a}),e.qZA(),e._UZ(31,"ion-icon",16),e.qZA(),e.TgZ(32,"ion-item")(33,"ion-input",19),e.NdJ("ngModelChange",function(a){return t.repeticionPassword=a}),e.qZA(),e._UZ(34,"ion-icon",16),e.qZA()(),e.TgZ(35,"div",20)(36,"ion-button",21),e.NdJ("click",function(){return t.crearCuenta()}),e._uU(37," Registrarme "),e.qZA()()(),e.TgZ(38,"div",6)(39,"ion-button",22),e.NdJ("click",function(){return t.ingresar()}),e._uU(40,"Ir a iniciar sesi\xf3n"),e.qZA()()()),2&n&&(e.Q6J("translucent",!0),e.xp6(15),e.Q6J("ngModel",t.usuario.nombre),e.xp6(3),e.Q6J("ngModel",t.usuario.apellido),e.xp6(3),e.Q6J("ngModel",t.usuario.correo),e.xp6(3),e.Q6J("ngModel",t.usuario.preguntaSecreta),e.xp6(3),e.Q6J("ngModel",t.usuario.respuestaSecreta),e.xp6(3),e.Q6J("ngModel",t.usuario.password),e.xp6(3),e.Q6J("ngModel",t.repeticionPassword))},dependencies:[i.Pc,i.YG,i.PM,i.W2,i.Gu,i.gu,i.pK,i.Ie,i.wd,i.sr,i.j9,m.ez,l.u5,l.JJ,l.On],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{text-decoration:none}ion-content[_ngcontent-%COMP%]{--background: url(background.2159e2724eb2b388.jpg) no-repeat center center / cover}.tab[_ngcontent-%COMP%]{font-size:10px}ion-toolbar[_ngcontent-%COMP%]{text-align:center;--ion-toolbar-background: #021E2F;--ion-color-primary: #F1B634}ion-segment-button[_ngcontent-%COMP%]:not(.segment-button-checked){color:#fff}ion-card[_ngcontent-%COMP%]{--background: rgba(0,0,0,.5)}ion-button[_ngcontent-%COMP%]{--background: #F1B634;color:#fff}.logo[_ngcontent-%COMP%]{max-width:140px;margin-left:10px}.cerrarsesion[_ngcontent-%COMP%]{color:#fff;max-width:300px}.subirQR[_ngcontent-%COMP%]{color:#000}.titulo-animado[_ngcontent-%COMP%]{margin-top:10px;font-size:12px}.titulo[_ngcontent-%COMP%]{text-shadow:2px 2px 4px rgba(0,0,0,.5);margin-top:50px;font-size:22px}.centrar-boton[_ngcontent-%COMP%]{text-align:center}ion-card[_ngcontent-%COMP%]{--background: rgba(0,0,0,.5);padding:10px}ion-button[_ngcontent-%COMP%]{--background: #F1B634;max-width:300px;margin-top:10px}ion-item[_ngcontent-%COMP%]{--background: rgba(0,0,0,0)}.items[_ngcontent-%COMP%]{border-radius:5px}ion-segment-button[_ngcontent-%COMP%]{--ion-color-primary: white}"]}),d})()}}]);